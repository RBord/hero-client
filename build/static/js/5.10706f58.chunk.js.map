{"version":3,"sources":["services/hero-api.js","components/loader/Loader.jsx","components/loader/Loader.module.css","views/editHeroPage/EditHeroPage.module.css","views/editHeroPage/EditHeroPage.jsx","views/detailsPage/DetailsPage.module.css","views/detailsPage/DetailsPage.jsx"],"names":["fetchAllHeroes","a","axios","get","then","res","data","fetchHeroById","id","updateHeroInfoById","patch","sendHeroToBase","post","deleteHeroById","delete","defaults","baseURL","Spinner","className","s","Container","type","color","height","width","timeout","React","Component","module","exports","EditHeroPage","props","location","useLocation","history","useHistory","useState","nick","setNick","realName","setRealName","powers","setPowers","descr","setDescription","phras","setPhrase","isEdited","setIsEdited","_id","nickname","real_name","superpowers","origin_description","catch_phrase","handleChange","evt","currentTarget","name","value","reset","preventDefault","superhero","supheroAPI","console","log","useEffect","to","wrapper","onSubmit","htmlFor","onChange","required","input","textarea","btn","onClick","push","state","from","DetailsPage","heroId","useParams","hero","setHero","isDeleting","setIsDeleting","needEdit","setNeedEdit","loading","setLoading","getHeroById","src","images","alt","image","infoContainer","wrapperBtns"],"mappings":"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","file":"static/js/5.10706f58.chunk.js","sourcesContent":["import axios from 'axios'\n\naxios.defaults.baseURL = 'https://create-hero-app.herokuapp.com/api'\n\nexport async function fetchAllHeroes() {\n  return await axios.get('/superheroes').then((res) => res.data.data)\n}\n\nexport async function fetchHeroById(id) {\n  return await axios.get(`/superheroes/${id}`).then((res) => res.data.data)\n}\n\nexport async function updateHeroInfoById(id, data) {\n  return await axios\n    .patch(`/superheroes/${id}`, data)\n    .then((res) => res.data.data)\n}\n\nexport async function sendHeroToBase(data) {\n  return await axios.post('/superheroes', data).then((res) => res.data.data)\n}\n\nexport async function deleteHeroById(id) {\n  return await axios.delete(`/superheroes/${id}`).then((res) => res.data.data)\n}\n\nexport async function updateImageOfHero(id, data) {\n  return await axios.post(`/images/${id}`, data).then((res) => res.data.data)\n}\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from './Loader.module.css';\n\nclass Spinner extends React.Component {\n  render() {\n    return (\n        <div className={s.Container}>\n            <Loader\n                type=\"TailSpin\"\n                color=\"#00BFFF\"\n                height={50}\n                width={50}\n                timeout={0}\n            />\n      </div>\n    );\n  }\n}\nexport default Spinner;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Loader_Container__hnGsc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"EditHeroPage_wrapper__1UvX1\",\"textarea\":\"EditHeroPage_textarea__jVAQt\",\"input\":\"EditHeroPage_input__36pKR\",\"btn\":\"EditHeroPage_btn__1MC6m\"};","import {useState, useEffect} from 'react'\nimport { Redirect, useLocation, useHistory} from 'react-router-dom'\nimport * as supheroAPI from '../../services/hero-api'\nimport s from './EditHeroPage.module.css'\n\nexport default function EditHeroPage(props) {\n    const location = useLocation()\n    const history = useHistory()\n\n    const [nick, setNick] = useState('')\n    const [realName, setRealName] = useState('')\n    const [powers, setPowers] = useState('')\n    const [descr, setDescription] = useState('')\n    const [phras, setPhrase] = useState('')\n\n    const [isEdited, setIsEdited] = useState(false)\n\n    const {_id, nickname, real_name, superpowers, origin_description, catch_phrase} = props.props\n    useEffect(() => {\n        setNick(nickname)\n        setRealName(real_name)\n        setPowers(superpowers)\n        setDescription(origin_description)\n        setPhrase(catch_phrase)\n    }, [nickname, real_name, superpowers, origin_description, catch_phrase])\n\n    function handleChange (evt) {\n        const {name, value} = evt.currentTarget;\n        switch (name) {\n            case 'nickname':\n                setNick(value)\n                break\n                case 'real_name':\n                    setRealName(value)\n                    break\n                    case 'superpowers':\n                        setPowers(value)\n                        break\n                        case 'origin_description':\n                            setDescription(value)\n                            break\n                            case 'catch_phrase':\n                                setPhrase(value)\n                                break\n                        default:\n                            return\n        }\n    }\n    function reset(){\n        setNick('')\n        setRealName('')\n        setPowers('')\n        setPhrase('')\n        setDescription('')\n    }\n\n    function onGoBack(){\n        history.push(location.state?.from)\n    }\n\n    async function handleSubmit(evt){\n        evt.preventDefault()\n\n        const superhero = {\n            nickname: nick,\n            real_name: realName,\n            superpowers: powers,\n            origin_description: descr,\n            catch_phrase: phras\n        }\n\n        await supheroAPI.updateHeroInfoById(_id, superhero).then(res => console.log(res))\n        reset()\n        setIsEdited(true)\n    }\n\n    return (\n        <>\n        {!isEdited ? (\n            <>\n            <h1>\n                Edit {nickname}\n            </h1>\n            <div className={s.wrapper}>\n                <form onSubmit={handleSubmit}>\n                    <label htmlFor=\"nickname\"><p>Nickname: </p>\n                        <input type=\"text\" id='nickname' name='nickname' value={nick} onChange={handleChange} required className={s.input}/>\n                    </label>\n                    <label htmlFor=\"real_name\"><p>Real Name: </p>\n                        <input type=\"text\" id='real_name' name='real_name' value={realName} onChange={handleChange} required className={s.input}/>\n                    </label>\n                    <label htmlFor=\"superpowers\"><p>Superpowers: </p>\n                        <textarea type='text' name=\"superpowers\" id=\"superpowers\" value={powers} onChange={handleChange} required className={s.textarea} />\n                    </label>\n                    <label htmlFor=\"origin_description\"><p>Description: </p>\n                        <textarea type=\"text\" id='origin_description' name='origin_description' value={descr} onChange={handleChange} className={s.textarea}/>\n                    </label>\n                    <label htmlFor=\"catch_phrase\"><p>Catch Phrase: </p>\n                        <textarea type=\"text\" id='catch_phrase' name='catch_phrase' value={phras} onChange={handleChange} className={s.textarea} />\n                    </label>\n                    <button type='submit' className={s.btn}>EDIT</button>\n                    <button type='button' onClick={onGoBack} className={s.btn}>BACK</button>\n                </form>\n            </div>\n            \n            \n            </>\n        ) : <Redirect to='/heroes'/>}\n        </>\n    )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"DetailsPage_wrapper__2bEXk\",\"infoContainer\":\"DetailsPage_infoContainer__2f8qi\",\"image\":\"DetailsPage_image__2TLUc\",\"wrapperBtns\":\"DetailsPage_wrapperBtns__3AwGX\",\"btn\":\"DetailsPage_btn__1qQ6i\"};","import {useState, useEffect} from 'react'\nimport {useLocation, useHistory, useParams, Redirect} from 'react-router-dom'\nimport EditHeroPage from '../editHeroPage/EditHeroPage'\nimport Spinner from '../../components/loader/Loader'\nimport s from './DetailsPage.module.css'\nimport * as supheroAPI from '../../services/hero-api'\n\nexport default function DetailsPage(){\n    const history = useHistory()\n    const location = useLocation()\n    const {heroId} = useParams()\n\n    const [hero, setHero] = useState(null)\n    const [isDeleting, setIsDeleting] = useState(false)\n    const [needEdit, setNeedEdit] = useState(false)\n    const [loading, setLoading] = useState(false)\n\n    useEffect(()=>{\n        setLoading(true)\n        async function getHeroById(){\n            await supheroAPI.fetchHeroById(heroId).then(setHero)\n            setLoading(false)\n        }\n        getHeroById()\n    }, [heroId])\n\n    function onGoBack(){\n        history.push(location.state?.from)\n    }\n\n    function needEditHero(){\n        setNeedEdit(true)\n    }\n    \n    async function onDelete(evt){\n        evt.preventDefault()\n\n        await supheroAPI.deleteHeroById(heroId).then(res => console.log(res))\n        setIsDeleting(true)\n    }\n\n    return (\n        <>\n        {hero && !needEdit && !loading &&(\n            <>\n                <h1>Detail information about {hero.nickname}</h1>\n                <div className={s.wrapper}>\n                    <img src={`https://create-hero-app.herokuapp.com${hero.images}`} alt=\"image_of_hero\" className={s.image}/>\n                    <div className={s.infoContainer}>\n                        <p><b>Real name: </b>{hero.real_name}</p>\n                        <p><b>Superpowers: </b>{hero.superpowers}</p>\n                        <p><b>Description: </b>{hero.origin_description}</p>\n                        <p><b>Catch Phrase: </b>{hero.catch_phrase}</p>\n                    </div>\n                </div>\n                <div className={s.wrapperBtns}>\n                    <button type='button' onClick={onGoBack} className={s.btn}>BACK</button>\n                    <button type='submit' onClick={onDelete} className={s.btn}>DELETE HERO FROM BASE</button>\n                    <button type='button' onClick={needEditHero} className={s.btn}>EDIT HERO</button>\n                </div>\n                \n            </>\n        )}\n        {isDeleting && <Redirect to=\"/heroes\" />}\n        {needEdit && (<EditHeroPage props={hero}/>)}\n        {loading && <Spinner/>}\n        </>\n    )\n}"],"sourceRoot":""}