{"version":3,"sources":["views/addHeroPage/AddHeroPage.module.css","views/addHeroPage/AddHeroPage.jsx","services/hero-api.js","components/loader/Loader.jsx","components/loader/Loader.module.css"],"names":["module","exports","AddHeroPage","useState","nickname","setNickname","realName","setRealName","powers","setPowers","description","setDescription","phrase","setPhrase","selectedFile","setSelectedFile","isAdded","setIsAdded","loading","setLoading","handleChange","evt","currentTarget","name","value","reset","addImageToHero","id","a","formData","FormData","append","supheroAPI","then","res","console","log","preventDefault","superhero","real_name","superpowers","origin_description","catch_phrase","_id","to","maxWidth","label","margin","required","variant","size","fullWidth","onChange","multiline","rows","htmlFor","accept","multiple","type","target","files","className","s","input","component","href","onClick","fetchAllHeroes","axios","get","data","fetchHeroById","updateHeroInfoById","patch","sendHeroToBase","post","deleteHeroById","delete","updateImageOfHero","defaults","baseURL","Spinner","Container","color","height","width","timeout","React","Component"],"mappings":"qFACAA,EAAOC,QAAU,CAAC,MAAQ,6B,gNCOX,SAASC,IACpB,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA4BJ,mBAAS,IAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAAsCN,mBAAS,IAA/C,mBAAOO,EAAP,KAAoBC,EAApB,KACA,EAA4BR,mBAAS,IAArC,mBAAOS,EAAP,KAAeC,EAAf,KACA,EAAwCV,mBAAS,IAAjD,mBAAOW,EAAP,KAAqBC,EAArB,KAGA,EAA8BZ,oBAAS,GAAvC,mBAAOa,EAAP,KAAgBC,EAAhB,KACA,EAA8Bd,oBAAS,GAAvC,mBAAOe,EAAP,KAAgBC,EAAhB,KAEA,SAASC,EAAcC,GACnB,MAAsBA,EAAIC,cAAnBC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,MACb,OAAQD,GACJ,IAAK,WACDlB,EAAYmB,GACZ,MACA,IAAK,YACDjB,EAAYiB,GACZ,MACA,IAAK,cACDf,EAAUe,GACV,MACA,IAAK,qBACDb,EAAea,GACf,MACA,IAAK,eACDX,EAAUW,GACV,MACR,QACI,QAIxB,SAASC,IACLpB,EAAY,IACZE,EAAY,IACZE,EAAU,IACVI,EAAU,IACVF,EAAe,IAxCe,SA+CnBe,EA/CmB,8EA+ClC,WAA8BC,GAA9B,eAAAC,EAAA,6DACUC,EAAW,IAAIC,UACZC,OAAO,OAAQ3B,GACxByB,EAASE,OAAO,QAASjB,GAH7B,SAIUkB,IAA6BL,EAAIE,GAAUI,MAAK,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAJ7E,4CA/CkC,kEAsDlC,WAA4Bb,GAA5B,eAAAO,EAAA,6DACIP,EAAIgB,iBAEEC,EAAY,CACdlC,SAAUA,EACVmC,UAAWjC,EACXkC,YAAahC,EACbiC,mBAAoB/B,EACpBgC,aAAc9B,GAGlBO,GAAW,GAXf,SAaUa,IAA0BM,GAAWL,MAAK,SAACC,GAC1CpB,EACCY,EAAeQ,EAAIS,KAEnBR,QAAQC,IAAIF,MAjBxB,OAqBIf,GAAW,GACXM,IACAR,GAAW,GAvBf,4CAtDkC,sBAgFlC,OACI,qCACED,EAuBE,cAAC,IAAD,CAAU4B,GAAG,YAtBb,qCACA,0CAGA,eAAC,IAAD,CAAWC,SAAS,KAApB,UACI,cAAC,IAAD,CAAWlB,GAAG,iBAAiBmB,MAAM,WAAWC,OAAO,SAASC,UAAQ,EAACC,QAAQ,WAAWC,KAAK,QAAQC,WAAS,EAAC5B,KAAK,WAAWC,MAAOpB,EAAUgD,SAAUhC,IAC9J,cAAC,IAAD,CAAWO,GAAG,iBAAiBmB,MAAM,YAAYC,OAAO,SAASC,UAAQ,EAACC,QAAQ,WAAWC,KAAK,QAAQC,WAAS,EAAC5B,KAAK,YAAYC,MAAOlB,EAAU8C,SAAUhC,IAChK,cAAC,IAAD,CAAWO,GAAG,4BAA4BmB,MAAM,cAAcC,OAAO,SAASC,UAAQ,EAACK,WAAS,EAACC,KAAM,EAAGH,WAAS,EAAC5B,KAAK,cAAcC,MAAOhB,EAAQ4C,SAAUhC,IAChK,cAAC,IAAD,CAAWO,GAAG,4BAA4BmB,MAAM,cAAcC,OAAO,SAASM,WAAS,EAACC,KAAM,EAAIH,WAAS,EAAC5B,KAAK,qBAAqBC,MAAOd,EAAa0C,SAAUhC,IACpK,cAAC,IAAD,CAAWO,GAAG,4BAA4BmB,MAAM,eAAeC,OAAO,SAASM,WAAS,EAACC,KAAM,EAAIH,WAAS,EAAC5B,KAAK,eAAeC,MAAOZ,EAAQwC,SAAUhC,IAC1J,wBAAOmC,QAAQ,wBAAf,UACI,cAAC,IAAD,CAAOC,OAAO,UAAU7B,GAAG,wBAAwB8B,UAAQ,EAACC,KAAK,OAAON,SAnDxF,SAA0B/B,GACtBN,EAAgBM,EAAIsC,OAAOC,MAAM,KAkD+EC,UAAWC,IAAEC,QACjH,cAAC,IAAD,CAAQd,QAAQ,YAAYe,UAAU,OAAtC,uBAIJ,cAAC,IAAD,CAAQf,QAAQ,YAAYgB,KAAK,qBAAqBC,QAnGhC,4CAmGtB,uBAOPhD,GAAW,cAAC,IAAD,S,0RC9Gb,SAAeiD,IAAtB,+B,4CAAO,sBAAAvC,EAAA,sEACQwC,IAAMC,IAAI,gBAAgBpC,MAAK,SAACC,GAAD,OAASA,EAAIoC,KAAKA,QADzD,oF,sBAIA,SAAeC,EAAtB,kC,4CAAO,WAA6B5C,GAA7B,SAAAC,EAAA,sEACQwC,IAAMC,IAAN,uBAA0B1C,IAAMM,MAAK,SAACC,GAAD,OAASA,EAAIoC,KAAKA,QAD/D,oF,sBAIA,SAAeE,EAAtB,oC,4CAAO,WAAkC7C,EAAI2C,GAAtC,SAAA1C,EAAA,sEACQwC,IACVK,MADU,uBACY9C,GAAM2C,GAC5BrC,MAAK,SAACC,GAAD,OAASA,EAAIoC,KAAKA,QAHrB,oF,sBAMA,SAAeI,EAAtB,kC,4CAAO,WAA8BJ,GAA9B,SAAA1C,EAAA,sEACQwC,IAAMO,KAAK,eAAgBL,GAAMrC,MAAK,SAACC,GAAD,OAASA,EAAIoC,KAAKA,QADhE,oF,sBAIA,SAAeM,EAAtB,kC,4CAAO,WAA8BjD,GAA9B,SAAAC,EAAA,sEACQwC,IAAMS,OAAN,uBAA6BlD,IAAMM,MAAK,SAACC,GAAD,OAASA,EAAIoC,KAAKA,QADlE,oF,sBAIA,SAAeQ,EAAtB,oC,4CAAO,WAAiCnD,EAAI2C,GAArC,SAAA1C,EAAA,sEACQwC,IAAMO,KAAN,kBAAsBhD,GAAM2C,GAAMrC,MAAK,SAACC,GAAD,OAASA,EAAIoC,KAAKA,QADjE,oF,sBAxBPF,IAAMW,SAASC,QAAU,6C,qICGnBC,E,4JACJ,WACE,OACI,qBAAKpB,UAAWC,IAAEoB,UAAlB,SACI,cAAC,IAAD,CACIxB,KAAK,WACLyB,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,U,GATHC,IAAMC,WAebP,O,mBCnBfjF,EAAOC,QAAU,CAAC,UAAY","file":"static/js/7.10535d46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"AddHeroPage_input__3gp_E\"};","import {useState} from 'react'\nimport { Redirect } from 'react-router-dom'\nimport Spinner from '../../components/loader/Loader'\nimport * as supheroAPI from '../../services/hero-api'\nimport s from './AddHeroPage.module.css'\n\nimport { TextField, Container, Button, Input} from '@mui/material'\n\nexport default function AddHeroPage() {\n    const [nickname, setNickname] = useState('')\n    const [realName, setRealName] = useState('')\n    const [powers, setPowers] = useState('')\n    const [description, setDescription] = useState('')\n    const [phrase, setPhrase] = useState('')\n    const [selectedFile, setSelectedFile] = useState('')\n    // const [id, setId] = useState('')\n\n    const [isAdded, setIsAdded] = useState(false)\n    const [loading, setLoading] = useState(false)\n\n    function handleChange (evt) {\n        const {name, value} = evt.currentTarget;\n        switch (name) {\n            case 'nickname':\n                setNickname(value)\n                break\n                case 'real_name':\n                    setRealName(value)\n                    break\n                    case 'superpowers':\n                        setPowers(value)\n                        break\n                        case 'origin_description':\n                            setDescription(value)\n                            break\n                            case 'catch_phrase':\n                                setPhrase(value)\n                                break\n                        default:\n                            return\n        }\n    }\n\n    function reset(){\n        setNickname('')\n        setRealName('')\n        setPowers('')\n        setPhrase('')\n        setDescription('')\n    }\n\n    function handleImageInput(evt){\n        setSelectedFile(evt.target.files[0])\n    }\n    \n    async function addImageToHero(id){\n        const formData = new FormData()\n        formData.append(\"name\", nickname)\n        formData.append(\"image\", selectedFile)\n        await supheroAPI.updateImageOfHero(id, formData).then(res => console.log(res))\n    }\n\n    async function handleSubmit(evt){\n        evt.preventDefault()\n\n        const superhero = {\n            nickname: nickname,\n            real_name: realName,\n            superpowers: powers,\n            origin_description: description,\n            catch_phrase: phrase\n        }\n\n        setLoading(true)\n\n        await supheroAPI.sendHeroToBase(superhero).then((res) => {\n            if(selectedFile){\n                addImageToHero(res._id)\n            } else {\n                console.log(res)\n            }\n        })\n\n        setLoading(false)\n        reset()\n        setIsAdded(true)\n    }\n\n    return (\n        <>\n        {!isAdded ? (\n            <>\n            <h1>\n                Add Hero\n            </h1>\n            <Container maxWidth=\"sm\">\n                <TextField id=\"outlined-basic\" label=\"Nickname\" margin=\"normal\" required variant=\"outlined\" size='small' fullWidth name='nickname' value={nickname} onChange={handleChange}/>\n                <TextField id=\"outlined-basic\" label=\"Real Name\" margin=\"normal\" required variant=\"outlined\" size='small' fullWidth name='real_name' value={realName} onChange={handleChange} />\n                <TextField id=\"outlined-multiline-static\" label=\"Superpowers\" margin=\"normal\" required multiline rows={6} fullWidth name='superpowers' value={powers} onChange={handleChange} />\n                <TextField id=\"outlined-multiline-static\" label=\"Description\" margin=\"normal\" multiline rows={6}  fullWidth name='origin_description' value={description} onChange={handleChange} />\n                <TextField id=\"outlined-multiline-static\" label=\"Catch Phrase\" margin=\"normal\" multiline rows={6}  fullWidth name='catch_phrase' value={phrase} onChange={handleChange} />\n                <label htmlFor=\"contained-button-file\">\n                    <Input accept=\"image/*\" id=\"contained-button-file\" multiple type=\"file\" onChange={handleImageInput} className={s.input}/>\n                    <Button variant=\"contained\" component=\"span\">\n                        Upload\n                    </Button>\n                </label>\n                <Button variant=\"contained\" href=\"#contained-buttons\" onClick={handleSubmit}>\n                    ADD\n                </Button>\n            </Container>\n            \n            </>\n        ) : <Redirect to='/heroes'/>}\n        {loading && <Spinner/>}\n        </>\n    )\n}","import axios from 'axios'\n\naxios.defaults.baseURL = 'https://create-hero-app.herokuapp.com/api'\n\nexport async function fetchAllHeroes() {\n  return await axios.get('/superheroes').then((res) => res.data.data)\n}\n\nexport async function fetchHeroById(id) {\n  return await axios.get(`/superheroes/${id}`).then((res) => res.data.data)\n}\n\nexport async function updateHeroInfoById(id, data) {\n  return await axios\n    .patch(`/superheroes/${id}`, data)\n    .then((res) => res.data.data)\n}\n\nexport async function sendHeroToBase(data) {\n  return await axios.post('/superheroes', data).then((res) => res.data.data)\n}\n\nexport async function deleteHeroById(id) {\n  return await axios.delete(`/superheroes/${id}`).then((res) => res.data.data)\n}\n\nexport async function updateImageOfHero(id, data) {\n  return await axios.post(`/images/${id}`, data).then((res) => res.data.data)\n}\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from './Loader.module.css';\n\nclass Spinner extends React.Component {\n  render() {\n    return (\n        <div className={s.Container}>\n            <Loader\n                type=\"TailSpin\"\n                color=\"#00BFFF\"\n                height={50}\n                width={50}\n                timeout={0}\n            />\n      </div>\n    );\n  }\n}\nexport default Spinner;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Loader_Container__hnGsc\"};"],"sourceRoot":""}